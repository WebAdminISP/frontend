(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2350:function(e,t,r){Promise.resolve().then(r.t.bind(r,1857,23)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,1270)),Promise.resolve().then(r.bind(r,2174)),Promise.resolve().then(r.bind(r,1260)),Promise.resolve().then(r.bind(r,9857))},357:function(e,t,r){"use strict";var o,n;e.exports=(null==(o=r.g.process)?void 0:o.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(8081)},8081:function(e){!function(){var t={229:function(e){var t,r,o,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],l=!1,c=-1;function d(){l&&o&&(l=!1,o.length?u=o.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=i(d);l=!0;for(var t=u.length;t;){for(o=u,u=[];++c<t;)o&&o[c].run();c=-1,t=u.length}o=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},s=!0;try{t[e](a,a.exports,o),s=!1}finally{s&&delete r[e]}return a.exports}o.ab="//";var n=o(229);e.exports=n}()},1270:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},useAuth:function(){return c}});var o=r(7437),n=r(2265),a=r(6463),s=r(277),i=r(5634);let u=(0,n.createContext)({userData:null,setUserData:()=>{},login:()=>{},logout:()=>{},renewToken:()=>{}}),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(null),c=(0,a.useRouter)();(0,n.useEffect)(()=>{r&&r.tokenData&&((0,s.setCookie)(null,"authToken",r.tokenData.token,{maxAge:2592e3,path:"/"}),localStorage.setItem("userSession",JSON.stringify(r)))},[r]),(0,n.useEffect)(()=>{if(window.localStorage){let e=localStorage.getItem("userSession");e&&l(JSON.parse(e))}let e=e=>{"userSession"===e.key&&(e.newValue?(l(JSON.parse(e.newValue)),c.push("/")):(l(null),localStorage.removeItem("userSession"),(0,s.destroyCookie)(null,"authToken"),window.location.reload()))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[c]);let[d,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d&&c.push("/dashboard/home")},[d]);let h=()=>{l(null),localStorage.removeItem("userSession"),localStorage.removeItem("selectedCampus"),(0,s.destroyCookie)(null,"authToken"),f(!1),c.push("/")},p=async()=>{if(r&&null!==r.tokenData.keyProperty)try{let e={email:r.userData.email,password:r.tokenData.keyProperty},t={tokenData:{...await (0,i.l)(e),keyProperty:e.password},userData:r.userData};l(t),window.location.reload()}catch(e){console.error("Error renovando el token:",e),h()}};return(0,o.jsx)(u.Provider,{value:{userData:r,setUserData:l,login:e=>{l(e),f(!0)},logout:h,renewToken:p},children:t})},c=()=>(0,n.useContext)(u)},2174:function(e,t,r){"use strict";r.d(t,{DarkProvider:function(){return i},_:function(){return u}});var o=r(7437),n=r(2265),a=r(1270);let s=(0,n.createContext)({darkMode:!1,handleDarkMode:()=>{}}),i=e=>{let{children:t}=e,{userData:r}=(0,a.useAuth)(),[i,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(r){let e=localStorage.getItem("darkMode");e&&(u(JSON.parse(e)),JSON.parse(e)&&document.documentElement.classList.add("dark"))}},[r]),(0,o.jsx)(s.Provider,{value:{darkMode:i,handleDarkMode:()=>{u(!i),i?(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"),console.log("modo dark desactivado")):(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true"),console.log("modo dark activado"))}},children:t})},u=()=>(0,n.useContext)(s)},1260:function(e,t,r){"use strict";r.d(t,{MercadoPagoProvider:function(){return u}});var o=r(7437),n=r(2265),a=r(8976);let s=r(357).env.NEXT_PUBLIC_MP_API_KEY,i=(0,n.createContext)(void 0),u=e=>{let{children:t}=e;return(0,n.useEffect)(()=>{(0,a.R6)("".concat(s)),console.log("Mercado Pago initialized en context")},[]),(0,o.jsx)(i.Provider,{value:{},children:t})}},9857:function(e,t,r){"use strict";r.d(t,{S:function(){return i},SidebarProvider:function(){return s}});var o=r(7437),n=r(2265);let a=(0,n.createContext)({btnFixed:!1,sidebarFixed:()=>{},isExpanded:!1,sidebarExpand:()=>{},isDropdown:null,menuDropdown:()=>{},isDropdownSub:null,subMenuDropdown:()=>{}}),s=e=>{let{children:t}=e,[r,s]=(0,n.useState)(!1),[i,u]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[d,f]=(0,n.useState)(null);return(0,o.jsx)(a.Provider,{value:{btnFixed:r,sidebarFixed:e=>{s(e)},isExpanded:i,sidebarExpand:e=>{u(e)},isDropdown:l,menuDropdown:e=>{c(e)},isDropdownSub:d,subMenuDropdown:e=>{f(e)}},children:t})},i=()=>(0,n.useContext)(a)},5634:function(e,t,r){"use strict";r.d(t,{GA:function(){return u},JS:function(){return l},QH:function(){return n},l:function(){return s},pH:function(){return i},zm:function(){return a},zr:function(){return c}});var o=r(8472);let n="http://localhost:3000",a="/users/auth0/callback";async function s(e){try{console.log("formData",JSON.stringify(e));let t=await fetch("".concat(n,"/auths/signin"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),r=await t.json();if(200===t.status)return r;throw Error(null==r?void 0:r.message)}catch(e){throw Error(e)}}async function i(e,t){try{let r=await fetch("".concat(n,"/users/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=await r.json();if(200===r.status)return o;throw Error(null==o?void 0:o.message)}catch(e){throw Error(e)}}let u=async(e,t)=>{try{return(await o.Z.get("http://localhost:3000/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.Z.isAxiosError(e)){var r,n;throw console.error("Error en la solicitud Axios:",e.message),Error((null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Error al obtener los datos del usuario")}throw console.error("Error desconocido:",e),Error("Error desconocido al obtener los datos del usuario")}},l=async(e,t)=>{try{return(await o.Z.delete("http://localhost:3000/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.Z.isAxiosError(e)){var r,n;throw console.error("Error en la solicitud Axios:",e.message),Error((null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||"Error al eliminar el usuario")}throw console.error("Error desconocido:",e),Error("Error desconocido al eliminar el usuario")}},c=async(e,t)=>{try{return(await o.Z.post("http://localhost:3000/auths/signup",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(e){if(o.Z.isAxiosError(e)){var r;console.error("Error en la creaci\xf3n del usuario:",(null===(r=e.response)||void 0===r?void 0:r.data)||e.message)}else console.error("Error inesperado:",e);throw e}}},3054:function(){},1857:function(e){e.exports={style:{fontFamily:"'__Montserrat_b1da2a', '__Montserrat_Fallback_b1da2a'",fontStyle:"normal"},className:"__className_b1da2a"}}},function(e){e.O(0,[501,178,976,971,23,744],function(){return e(e.s=2350)}),_N_E=e.O()}]);