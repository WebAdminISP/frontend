(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{5935:function(e,t,r){Promise.resolve().then(r.t.bind(r,8173,23)),Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.bind(r,201)),Promise.resolve().then(r.bind(r,2778)),Promise.resolve().then(r.bind(r,2862)),Promise.resolve().then(r.bind(r,6665)),Promise.resolve().then(r.bind(r,517))},517:function(e,t,r){"use strict";r.d(t,{default:function(){return h}});var o=r(7437),a=r(7138),n=r(2265),s=r(6648);let i=e=>{let{Imagen:t}=e;return(0,o.jsx)(s.default,{src:t.src,alt:"Boton de Pagos",className:" px-4 py-2 rounded transition-transform transform duration-200 hover:scale-105 max-w-80",width:250,height:100})};var l={src:"/_next/static/media/boton Pagos.51138f88.svg",height:356,width:1577,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/boton_Plataform.3dceff37.svg",height:356,width:1577,blurWidth:0,blurHeight:0},c=r(1270),d=()=>{let{userData:e}=(0,c.useAuth)(),[t,r]=(0,n.useState)(""),[a,s]=(0,n.useState)(!1),i=(0,n.useRef)(null),l=e=>e&&""!==e.trim()?e.trim().charAt(0).toUpperCase():'<i className="lni lni-user"></i>';(0,n.useEffect)(()=>{(null==e?void 0:e.userData)&&r(l(null==e?void 0:e.userData.nombre))},[e]);let u=()=>{s(!a)},d=e=>{i.current&&!i.current.contains(e.target)&&s(!1)};return(0,n.useEffect)(()=>(document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[]),(0,o.jsx)("div",{className:"relative",ref:i,children:(0,o.jsxs)("div",{className:"flex items-center justify-center text-center space-x-4 cursor-pointer",children:[(0,o.jsx)("div",{className:"flex flex-col text-end "}),e&&"https://exmple-image.webp"!==e.userData.imgUrl?(0,o.jsx)("img",{src:e.userData.imgUrl,alt:e.userData.nombre,className:"w-12 h-12 rounded-full",onClick:u}):(0,o.jsx)("button",{id:"dropdownNavbarLink",onClick:u,className:"rounded-full w-12 h-12 flex items-center justify-center text-center font-[530] ".concat(e&&(({A:"bg-red-500",B:"bg-blue-500",C:"bg-green-500",D:"bg-yellow-500",E:"bg-purple-500",F:"bg-pink-500",G:"bg-indigo-500",H:"bg-teal-500",I:"bg-orange-500",J:"bg-cyan-500",K:"bg-lime-500",L:"bg-amber-500",M:"bg-emerald-500",N:"bg-violet-500",O:"bg-fuchsia-500",P:"bg-rose-500",Q:"bg-sky-500",R:"bg-blue-600",S:"bg-red-600",T:"bg-green-600",U:"bg-yellow-600",V:"bg-purple-600",W:"bg-pink-600",X:"bg-indigo-600",Y:"bg-teal-600",Z:"bg-orange-600"})[l(e.userData.nombre)]||"bg-gray-500")," text-white"),children:(0,o.jsx)("p",{className:"text-3xl pr-[1px]",children:t})})]})})},h=()=>{let{userData:e}=(0,c.useAuth)(),t=null==e?void 0:e.tokenData.token;return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)(a.default,{href:"/dashboard/home",children:(0,o.jsxs)("div",{className:"ml-auto flex  items-center  w-60",children:[(0,o.jsx)(i,{Imagen:u}),(0,o.jsx)(d,{})]})}):(0,o.jsx)(a.default,{href:"/login/1",children:(0,o.jsx)("div",{className:"ml-auto flex  items-center  w-60",children:(0,o.jsx)(i,{Imagen:l})})})})}},1270:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},useAuth:function(){return c}});var o=r(7437),a=r(2265),n=r(6463),s=r(277),i=r(5634);let l=(0,a.createContext)({userData:null,setUserData:()=>{},login:()=>{},logout:()=>{},renewToken:()=>{}}),u=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),c=(0,n.useRouter)();(0,a.useEffect)(()=>{r&&r.tokenData&&((0,s.setCookie)(null,"authToken",r.tokenData.token,{maxAge:2592e3,path:"/"}),localStorage.setItem("userSession",JSON.stringify(r)))},[r]),(0,a.useEffect)(()=>{if(window.localStorage){let e=localStorage.getItem("userSession");e&&u(JSON.parse(e))}let e=e=>{"userSession"===e.key&&(e.newValue?(u(JSON.parse(e.newValue)),c.push("/")):(u(null),localStorage.removeItem("userSession"),(0,s.destroyCookie)(null,"authToken"),window.location.reload()))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[c]);let[d,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d&&c.push("/dashboard/home")},[d]);let g=()=>{u(null),localStorage.removeItem("userSession"),localStorage.removeItem("selectedCampus"),(0,s.destroyCookie)(null,"authToken"),h(!1),c.push("/")},f=async()=>{if(r&&null!==r.tokenData.keyProperty)try{let e={email:r.userData.email,password:r.tokenData.keyProperty},t={tokenData:{...await (0,i.l)(e),keyProperty:e.password},userData:r.userData};u(t),window.location.reload()}catch(e){console.error("Error renovando el token:",e),g()}};return(0,o.jsx)(l.Provider,{value:{userData:r,setUserData:u,login:e=>{u(e),h(!0)},logout:g,renewToken:f},children:t})},c=()=>(0,a.useContext)(l)},5634:function(e,t,r){"use strict";r.d(t,{GA:function(){return l},JS:function(){return u},QH:function(){return a},l:function(){return s},pH:function(){return i},zm:function(){return n},zr:function(){return c}});var o=r(8472);let a="http://localhost:3000",n="/users/auth0/callback";async function s(e){try{console.log("formData",JSON.stringify(e));let t=await fetch("".concat(a,"/auths/signin"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),r=await t.json();if(200===t.status)return r;throw Error(null==r?void 0:r.message)}catch(e){throw Error(e)}}async function i(e,t){try{let r=await fetch("".concat(a,"/users/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=await r.json();if(200===r.status)return o;throw Error(null==o?void 0:o.message)}catch(e){throw Error(e)}}let l=async(e,t)=>{try{return(await o.Z.get("http://localhost:3000/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.Z.isAxiosError(e)){var r,a;throw console.error("Error en la solicitud Axios:",e.message),Error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Error al obtener los datos del usuario")}throw console.error("Error desconocido:",e),Error("Error desconocido al obtener los datos del usuario")}},u=async(e,t)=>{try{return(await o.Z.delete("http://localhost:3000/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){if(o.Z.isAxiosError(e)){var r,a;throw console.error("Error en la solicitud Axios:",e.message),Error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Error al eliminar el usuario")}throw console.error("Error desconocido:",e),Error("Error desconocido al eliminar el usuario")}},c=async(e,t)=>{try{return(await o.Z.post("http://localhost:3000/auths/signup",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data}catch(e){if(o.Z.isAxiosError(e)){var r;console.error("Error en la creaci\xf3n del usuario:",(null===(r=e.response)||void 0===r?void 0:r.data)||e.message)}else console.error("Error inesperado:",e);throw e}}},201:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/BotonTestVelocidad.be4454d1.svg",height:74,width:326,blurWidth:0,blurHeight:0}},2778:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/test1.e5fa66b6.svg",height:921,width:1853,blurWidth:0,blurHeight:0}},2862:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/test2.c3ffc1a6.svg",height:921,width:1853,blurWidth:0,blurHeight:0}},6665:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/Logo01.530fe2b7.png",height:853,width:1050,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAvklEQVR42mM4ffoEIwMQPHlw1/38hQtdW3btmTJz1UYpkNjmXfuZGUBgy/YdcZMXr7wydeWGxoWbdhyfv3bTsdv3H6kwwMCylatPTFi47HH9rNU7epdsuTZp8er/W3ftnc4AAy09U5auWLXye/3MZcv6lm+93Tpv+e3t+w43MCABsa7Js3at3rCxZfu+/d2HTp2t+vX/PycDCGzYtMn70OFDNus3brJes3Zd3u5dO/P37NoeuXXr5vwzZ067AABVeGDvqgIvGgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6}}},function(e){e.O(0,[178,648,138,971,23,744],function(){return e(e.s=5935)}),_N_E=e.O()}]);